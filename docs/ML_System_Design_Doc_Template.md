# ML System Design Doc - [RU]
## Дизайн ML системы - \<Мультимодальная модель склонности клиентов ММБ к открытию РКО\> \<MVP\> \<01\>
    
> ## Термины и пояснения
> - Итерация - это все работы, которые совершаются до старта очередного пилота  
> - БТ - бизнес-требования 
> - EDA - Exploratory Data Analysis - исследовательский анализ данных  
> - `Product Owner`,  `Data Scientist` - роли, которые заполняют соответствующие разделы 
> - В этом шаблоне роль `Data Scientist` совмещает в себе компетенции классического `Data Scientist` с упором на исследования и `ML Engineer` & `ML Ops` роли с акцентом на продуктивизацию моделей
> - Для вашей организации распределение ролей может быть уточнено в зависимости от операционной модели 

### 1. Цели и предпосылки 
#### 1.1. Зачем идем в разработку продукта?  

- Бизнес-цель: 
Снижение расходов на маркетинг и коммуникации за счет выявления наиболее склонных клиентов

- Почему станет лучше, чем сейчас, от использования ML: 
Текущий подход позволит на ежемесячной основе производить скоринг клиентов и выявлять наиболее склонных из них, а также заменит текущий подход на бизнес правилах

- Что будем считать успехом итерации с точки зрения бизнеса: 
    Увеличение конверсии на 10-15%.
    Снижение затрат на маркетинг на 20%.

#### 1.2. Бизнес-требования и ограничения  

- Краткое описание БТ:
Определение наиболее склонных к открытию РКО клиентов на основе исторических данных.
Ссылки на документ нет, так как проект по NDA.

- Бизнес-ограничения:
    Модель должна проводить автоматический скоринг на ежемесячной основе.
    Модель разрабатывается для сегмента ММБ.
    В выборке обучения модели должны отсуствовать ликвидированые компании, а также определенные ОКВЭД из ТЗ.

- Что мы ожидаем от конкретной итерации:
    За первую итерацию мы ожидаем создание работоспособной модели с хорошей точностью, которая будет тестироваться на ретро данных

- Описание бизнес-процесса пилота, насколько это возможно - как именно мы будем использовать модель в существующем бизнес-процессе?
    Модель будет использоваться для ранжирования клиентов, наиболее склонных к открытию РКО. Для отправки таргетированных предложений с помощью клиентских менеджеров или включении баннеров в мобильном банке. Целевая система - маркетинговый оптимизатор (МО)

- Что считаем успешным пилотом? Критерии успеха и возможные пути развития проекта: 
    Стабильный коэффициент gini на ретро-тесте
    Увеличение обобщающей способности модели за счет добавления дополнительнымх источников данных

#### 1.3. Что входит в скоуп проекта/итерации, что не входит   

- На закрытие каких БТ подписываемся в данной итерации:
    Определение признаков и построение модели для оценки склонности клиентов к открытию РКО.
    Предобработка и очистка данных.
    Оценка и тестирование модели на ретро-данных.
    Документация результатов и кодирования.

- Что не будет закрыто:
    Интеграция модели в прод
    Постоянное обновление модели
    Оптимизация модели для реального времени
    Анализ дополнительных источников данных

- Описание результата с точки зрения качества кода и воспроизводимости решения:
    Все модели и предобработка данных должны быть реализованы в виде чистого и понятного кода с подробными комментариями
    Воспроизводимость решения:
    Мы будем использовать следующие инструменты для обеспечения воспроизводимости:
        Docker для контейнеризации всего проекта.
        Jupyter notebooks для работы с исследовательскими анализами и прототипированием.
        Git для отслеживания изменений в коде.
        requirements.txt для фиксирования зависимостей проекта.
        Все результаты тестов и оценки будут храниться в отдельном репозитории, доступном для анализа и повторного использования.

- Описание планируемого технического долга (что оставляем для дальнейшей продуктивизации):

    Обновление и масштабируемость модели:
    В долгосрочной перспективе необходимо будет настроить pipeline для периодической переобучения модели с новыми данными. 

    Использование более сложных моделей и фичей:
    В текущей итерации будем ограничены базовыми моделями (например, логистическая регрессия или дерево решений). Для повышения точности в будущем стоит изучить более сложные подходы, такие как нейронные сети или методы на основе глубокого обучения. Также можно будет добавить дополнительные источники данных.

#### 1.4. Предпосылки решения  

- Описание всех общих предпосылок решения, используемых в системе – с обоснованием от запроса бизнеса: какие блоки данных используем, горизонт прогноза, гранулярность модели, и др:
    Используем наиболее релевантный период для разработки, близкий к периоду использования модели, чтобы обеспечить горизонт предсказания 3 месяца.
    Используем все доступные на даты разработки данные.
    Источники данныех под NDA.

### 2. Методология    

#### 2.1. Постановка задачи  

- Что делаем с технической точки зрения: рекомендательная система, поиск аномалий, прогноз, оптимизация, и др.^
    Модель бинарной классификации. Модель предсказывает склонных к открытию продукта клиентов.
    Требования к интерпритируемости модели отсуствуют. 

#### 2.2. Блок-схема решения  

- Блок-схема для бейзлайна и основного MVP с ключевыми этапами решения задачи: подготовка данных, построение прогнозных моделей, оптимизация, тестирование, закрытие технического долга, подготовка пилота, другое.

https://github.com/kuzmean/ml_system_desing/docs/product_schema.png?raw=true
  


